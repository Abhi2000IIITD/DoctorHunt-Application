{"ast":null,"code":"var _jsxFileName = \"/home/abhishek-singh/Desktop/DoctorAppointment/frontend/src/Pages/DoctorLogin.js\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\"; // Import Axios for API calls\nimport \"./DoctorLogin.css\"; // Import CSS for styling\n\nconst DoctorLogin = () => {\n  const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n\n    // Simple client-side validation for empty fields\n    if (!phone || !password) {\n      alert(\"Please fill in both fields\");\n      return;\n    }\n    try {\n      // Sending phone and password to the backend for validation\n      const response = await axios.post(\"http://localhost:5001/api/doctor/login\", {\n        phone,\n        password\n      });\n\n      // If login is successful, store doctor details in localStorage and navigate\n      if (response.data.success) {\n        const {\n          doctor_id,\n          doctor_name\n        } = response.data;\n        if (doctor_id && doctor_name) {\n          localStorage.setItem(\"doctor_id\", doctor_id); // Store doctor ID\n          localStorage.setItem(\"doctor_name\", doctor_name); // Store doctor name\n\n          alert(response.data.message); // Show success message\n          navigate(\"/availability-entry\"); // Redirect to AvailabilityEntry page\n        } else {\n          alert(\"Doctor details are missing. Please contact support.\");\n        }\n      } else {\n        alert(response.data.message); // Display login failure message\n      }\n    } catch (error) {\n      console.error(\"Login failed\", error);\n      alert(\"Something went wrong. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"doctor-login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Welcome, Doctor\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your phone number\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter your password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Login\"))));\n};\nexport default DoctorLogin;","map":{"version":3,"names":["React","useState","useNavigate","axios","DoctorLogin","phone","setPhone","password","setPassword","navigate","handleLogin","e","preventDefault","alert","response","post","data","success","doctor_id","doctor_name","localStorage","setItem","message","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["/home/abhishek-singh/Desktop/DoctorAppointment/frontend/src/Pages/DoctorLogin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\"; // Import Axios for API calls\nimport \"./DoctorLogin.css\"; // Import CSS for styling\n\nconst DoctorLogin = () => {\n  const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    // Simple client-side validation for empty fields\n    if (!phone || !password) {\n      alert(\"Please fill in both fields\");\n      return;\n    }\n\n    try {\n      // Sending phone and password to the backend for validation\n      const response = await axios.post(\"http://localhost:5001/api/doctor/login\", {\n        phone,\n        password\n      });\n\n      // If login is successful, store doctor details in localStorage and navigate\n      if (response.data.success) {\n        const { doctor_id, doctor_name } = response.data;\n        \n        if (doctor_id && doctor_name) {\n          localStorage.setItem(\"doctor_id\", doctor_id); // Store doctor ID\n          localStorage.setItem(\"doctor_name\", doctor_name); // Store doctor name\n\n          alert(response.data.message); // Show success message\n          navigate(\"/availability-entry\"); // Redirect to AvailabilityEntry page\n        } else {\n          alert(\"Doctor details are missing. Please contact support.\");\n        }\n      } else {\n        alert(response.data.message); // Display login failure message\n      }\n    } catch (error) {\n      console.error(\"Login failed\", error);\n      alert(\"Something went wrong. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"doctor-login-container\">\n      <div className=\"login-box\">\n        <h2>Welcome, Doctor</h2>\n        <form onSubmit={handleLogin}>\n          <input\n            type=\"text\"\n            placeholder=\"Enter your phone number\"\n            value={phone}\n            onChange={(e) => setPhone(e.target.value)}\n            required\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Enter your password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n          <button type=\"submit\">Login</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default DoctorLogin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}